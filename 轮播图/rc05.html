<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			div{
				width:200px;
				height: 150px;
				border:1px solid red;
				position:relative;
				overflow: hidden;
			}
			img{
				width:200px;
				height: 150px;
				position: absolute;
			}
		</style>
		<script type="text/javascript">
			//加载完成事件
			onload = function(){
				//得到页面中所有的图片
				var imgs = document.getElementsByTagName("img");
				//验证图片数量
				//alert(imgs.length);
				//遍历图片
				for(var i=0;i<imgs.length;i++){
					var img = imgs[i];
					//修改图片的位置
					img.style.top="0";
					img.style.left=i*200+"px";
						}
					}
					//开启定时器每隔一段时间移动一张图片
					var timeId = setInterval(movefn,3000);
					//创建移动一张图片的方法
					function movefn(){
					//开启图片移动的定时器
					var moveId = setInterval(function(){
						//获取所有图片
						var imgs = document.getElementsByTagName("img");
						//遍历图片
						for(var i =0;i<imgs.length;i++){
							//得到图片
							var img = imgs[i];
							//得到原来的位置
							var oldleft = parseFloat(img.style.left);
							//向左移动
							oldleft-=2;
							//图片复位
							if(oldleft<=-200){
								oldleft=400;
								//停止定时器
								clearInterval(moveId);
							}
							//赋值回去
							img.style.left=oldleft+"px";
							}
							},10);
							}
							//定时器停止
							function stop(){
								clearInterval(timeId);
							}
							//重开定时器
							function start(){
								//每次开启新的定时器时，把上一个定时器停止
								//避免连续开启多个定时器
								clearInterval(timeId);
								timeId = setInterval(movefn,3000);
							}
							//页面失去焦点
							onblur = function(){
								stop();
							}
							//页面获取焦点时开始
							onfocus = function(){
								start();
							}
		</script>
	</head>
	<body>
		<!-- onmouseover鼠标移入事件   onmouseout鼠标移出事件 -->
		<div onmouseover="stop()" onmouseout="start()">
			<img src="imgs/01.jpg" >
			<img src="imgs/02.jpg" >
			<img src="imgs/03.jpg" >
		</div>
	</body>
</html>
